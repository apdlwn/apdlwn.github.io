---
layout: post
title: "README"
subtitle: "과제"
date: 2022-04-11 00:11:10 +0900
background: '/PATH_TO_IMAGE'
---

JAVA를 이용하여 허프만 코드를 짜보았습니다. 

### 코드 설명

* [1] 글을 문서로 저장하기
* [2] 해당 문서에서 글을 가져오기
* [3] 그 글을 허프만 압축하기

실행 과정은 위와 같은 순서로 구성하였습니다.  

`` 기본 ``

작년 프로그래밍(2) 강의를 통해 JAVA를 배우긴 했지만
허프만 코드를 짜며 추가로 학습해야 하는 부분도 있었습니다. 

허프만 코드를 짜기 위해서는 트리 구조가 필요하기 때문에 
**Node**라는 이름의 클래스를 선언하여
**character**(입력 문자), **freq**(입력 문자가 사용된 횟수)와 
트리 구조에 필요한 **Node left, right** 필드를 만들어 주었습니다. 

또한 허프만 코드를 짜기 위해서는 우선순위 큐를 사용해야 합니다.
자바에서 우선순위 큐를 구현하는 방법으로는 우선순위 큐 라이브러리를 사용하는 것이 있습니다.
이를 사용하기 위해서는 java.util.RriorityQueue를 import해야하고,
PriorityQueue<Node> queue=new PriorityQueue<Node>();와 같이 선언해야 합니다. 
우선순위 큐는 기본적으로 우선순위가 낮은 숫자 순으로 설정됩니다.

우선순위 큐를 이용하기 위해서는 **Node** 를 비교할 수 있는 기준이 필요하기 때문에 **Comparator**을 상속하는 **compareNode**라는 클래스를 선언하여 Node의 빈도수를 기준으로 비교하게 만들었습니다. 

문자에 대응하는 코드를 저장하기 위해 HashMap을 활용하였습니다. 

**coding**은 **글의 길이-1**번만큼 도는 for문으로 허프만 코드를 만들 수 있는 트리를 구성하는 부분입니다.

`` [1] 글을 문서로 저장하기 `` =>간단하게 **FileWrite**를 이용하여 텍스트 파일로 저장하였습니다. 

`` [2] 해당 문서에서 글을 가져오기 `` 
-먼저 가져온 글을 저장해놓을 text를 선언하였습니다. File을 이용하여 file를 생성하고 문서의 주소를 넣어주고, Filereader를 사용하여 텍스트를 가져와서 제대로 저장된 것이 맞는지 확인하기 위해 print해줍니다. 

`` [3] 가져온 글을 허프만 압축하기 ``
-Node는 그냥 비교가 불가능 하기 때문에 우선순위 큐를 선언할 때 괄호 안에 new compareNode()를 넣어주어야 합니다.

 문자에 대응하는 빈도수를 저장하기 위해 checkFreq를 해시맵으로 선언합니다.
 텍스트 길이만큼 for문이 돌아가게 하여 각 문자의 빈도수를 checkFreq에 저장합니다. 이때 만약 문자에 대응하는 빈도수가 0이면 빈도수에 1을 넣고, 0이 아니라면 빈도수+1을 저장해줍니다. 

for문을 이용하여 checkFreq에 저장된 문자에 대해 각각 노드를 생성한 후 우선순위 큐에 add해주었습니다. count를 이용하여 글에 사용된 문자의 갯수를 세었습니다. 

**coding**을 이용하여 트리르 만들고, makeHuffmanCode


#### 보완해야 할 점

특정 글을 저장하기 위해서는 줄바꿈(엔터)를 2번 입력해야 합니다.
처음에는 모든 줄바꿈이 똑같은 허프만 코드로 바뀌는 줄 알았으나
줄바꿈에 대한 허프만 코드가 2개 생성되는 결과가 나왔습니다. 
심지어 엔터를 2번 입력한 마지막 부분 뿐만 아니라 
글 중간에 입력된 엔터에도 위에서 말한 허프만 코드 2개로 바뀌었습니다. 
(예- '엔터1'=01, '엔터2'=10, **글 중간에 입력된 엔터=>0110** )

이를 해결하기 위해 \b도 넣어보고 인터넷 서칭도 해보았으나
적절한 해결 방안을 찾지 못하였습니다. 

중간고사 이후 기회가 된다면 줄바꿈 오류를 해결하고 싶습니다. 
